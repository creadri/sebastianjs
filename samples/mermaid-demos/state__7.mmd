stateDiagram-v2
[*] --> First
First --> Second
First --> Third

state "the first composite" as First {
    [*] --> 1st
    state innerFirst {
      state "1 in innerFirst" as 1st1st
      1st2nd: 2 in innerFirst
      [*] --> 1st1st
      1st1st --> 1st2nd
      %% 1st2nd --> 1st
    }
    1st --> innerFirst
    innerFirst --> 2nd
}
state Second {
    2nd --> [*]
}
state Third {
    [*] --> 3rd
    3rd --> [*]
}